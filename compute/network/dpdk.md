# dpdk

## 网络 dpdk

需要强调的是，DPDK应用程序是运行在用户空间上利用自身提供的数据平面库来收发数据包，绕过了Linux内核协议栈对数据包处理过程。Linux内核将DPDK应用程序看作是一个普通的用户态进程，包括它的编译、连接和加载方式和普通程序没有什么两样。

## 总体结构

主要有以下几个核心

* 网络层模块
* 内存管理模块
* 内核管理模块

DPDK对从内核层到用户层的网络流程相对传统网络模块进行了特殊处理，下面对传统网络模块结构和DPDK中的网络结构做对比

![](../../.gitbook/assets/image%20%2812%29.png)

  


dpdk优势:

* 减少了中断次数。
* 减少了内存拷贝次数。
* 绕过了linux的协议栈，进入用户协议栈，用户获得了协议栈的控制权，能够定制化协议栈降低复杂度

dpdk劣势

* 内核栈转移至用户层增加了开发成本.
* 低负荷服务器不实用，会造成内核空转.



DPDK核心技术如下：

　　（1）通过UIO技术将报文拷贝到应用空间处理

　　（2）通过大页内存，降低cache miss ，提高命中率，进而cpu访问速度

　　（3）通过CPU亲和性，绑定网卡和线程到固定的core，减少cpu任务切换

　　（4）通过无锁队列，减少资源竞争

　　接下来深入学习总结一下dpdk所用到的技术，加深理解。

