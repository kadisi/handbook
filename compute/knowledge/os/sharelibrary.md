---
计算机知识: 共享库
---

# 共享库

动态库技术通常能减少程序大小， 节省空间， 具有很高的灵活性， 对于升级软件版本也更加容易， 与静态库不同， 动态库里面的函数不是执行程序本身的一部分， 而是在程序执行时按需载入，其中动态库的执行代码段可以同时在多个程序中共享， 由于编译过程中无法知道动态库函数的地址，所以需要在运行期间查找，对程序的性能会有一定的影响。

## 共享库 动态链接库

对于共享库来说， 它只包含两个数据段： 只读的代码段和可修改的数据段。  其中堆和栈只有进程才有， 如果你在共享库的函数里， 分配了一块内存， 这段内存江北算在调用该函数饿进程的堆中。

代码段由于其内容是对每个进程都一样的， 所以它在系统中是唯一的， 系统只为其分配一块内存，多个进程之间共享。数据段由于其内容对每个进程是不一样的， 所以在连接到进程空间后, 系统会为每个进程创建相应的数据段， 也就是说如果一个共享库被N个进程连接， 昂这N个进程同时运行时候， 同时共享一个代码段，每个进程拥有一个数据段， 系统中共有N个数据段， 



