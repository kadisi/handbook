---
计算机知识: 算法 算术运算
---

# 加法
见 leetcode 371

计算机的加法和乘法都是模拟人做加法和乘法的方法来设计和实现cpu算术运算模块的， 下面的例子

```
	1 1 0 1
		1 1
+
----------------
  1 0 0 0 0 
```
这个计算可以分为两个部分， 一部分是按位相加的，另一部分是进位的。
按位相加 其实对于二进制来说是异或运算了，相同为0 相异为1,  如 1 + 1 = 0 ， 0 + 1 = 1， 1 + 0 = 1， 0 + 0 = 0
那么什么情况下进位， 1 + 1 的时候才进位， 我们应该马上会想到是与运算， 进的哪一位加到高位继续参加下一步的运算。
那么我们会得到下面的公式：

`a + b = (a&b) << 1 + a ^ b`

但是a + b 的实现里还是用到了加法， 所以这是一个递归，那么什么是递归截止的终止条件呢， 就是进位的数为0的情况， 也就是(a&b)<<1 为0 时候
于是我们得到了如下代码：
```
func getSum(a int, b int) int {
    if a == 0 {
        return b
    }
    return getSum((a&b)<<1, a^b)
}
```




